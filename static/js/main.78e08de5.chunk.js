(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{317:function(e,t,a){e.exports=a(539)},538:function(e,t,a){},539:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(86),c=a.n(i),o=a(27),l=a(28),s=a(32),m=a(29),u=a(31),d=a(557),p=a(547),h=a(563),b=a(562),E=a(555),g=a(553),f=a(23),y=a(556),O=a(22),v=a(48),j="SENDING_ADD",S="RESPONSE_ADD",k="ADD_SONG",w="EDIT_SONG",D="DELETE_SONG",C="MODAL_DELETE_SHOW",A="MODAL_DELETE_HIDE",N="FETCH",_="FETCH_END",H=function(e){return{type:k,song:e}},x=function(){return{type:j}},Y=function(){return{type:S}},I=function(e){return{type:A}},J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).modalDeleteShow=a.modalDeleteShow.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.song;return r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Cell,null,e.name),r.a.createElement(g.a.Cell,null,e.artist),r.a.createElement(g.a.Cell,null,e.year),r.a.createElement(g.a.Cell,null,r.a.createElement(y.a.Group,null,r.a.createElement(p.a,{to:"/song/"+e.id},r.a.createElement(y.a,{positive:!0},"Edit")),r.a.createElement(y.a.Or,null),r.a.createElement(y.a,{negative:!0,"data-id":e.id,"data-name":e.name,"data-artist":e.artist,"data-year":e.year,onClick:this.modalDeleteShow},"Delete"))))}},{key:"modalDeleteShow",value:function(e){var t=this.props.song.id,a=this.props.song.name;this.props.dispatch({type:C,modal:{id:t,name:a}})}}]),t}(r.a.Component),B=Object(O.b)()(J),F=a(551),q=a(559),L=a(92),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).modalDeleteHide=a.modalDeleteHide.bind(Object(f.a)(Object(f.a)(a))),a.delete=a.delete.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{basic:!0,size:"small",open:this.props.modal.show},r.a.createElement(q.a,{icon:"archive",content:"Alert"}),r.a.createElement(F.a.Content,null,r.a.createElement("p",null,"Do you want to delete  ",this.props.modal.name," ?")),r.a.createElement(F.a.Actions,null,r.a.createElement(y.a,{basic:!0,color:"red",inverted:!0,onClick:this.modalDeleteHide},r.a.createElement(L.a,{name:"remove"})," No"),r.a.createElement(y.a,{color:"green",inverted:!0,onClick:this.delete},r.a.createElement(L.a,{name:"checkmark"})," Yes")))}},{key:"modalDeleteHide",value:function(e){this.props.dispatch(I())}},{key:"delete",value:function(e){var t;this.props.dispatch((t={id:this.props.modal.id},{type:D,song:t})),this.props.dispatch(I()),v.database().ref("songs/"+this.props.modal.id).remove()}}]),t}(r.a.Component);var z=Object(O.b)(function(e){return{modal:e.modal.toJS()}})(T),G=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{striped:!0},r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Row,null,r.a.createElement(g.a.HeaderCell,null,"Name"),r.a.createElement(g.a.HeaderCell,null,"Artist"),r.a.createElement(g.a.HeaderCell,null,"Year"),r.a.createElement(g.a.HeaderCell,null,"Options"))),r.a.createElement(g.a.Body,null,this.props.songs.map(function(e,t){return r.a.createElement(B,{key:e.id,song:e})}))),r.a.createElement(z,null))}}]),t}(r.a.Component),R=Object(O.b)(function(e,t){return{songs:e.songs.toJS()}})(G),V=a(548),K=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.show?r.a.createElement(V.a,{percent:100,active:!0,color:"blue",size:"medium"}):r.a.createElement(R,null))}}]),t}(r.a.Component),M=Object(O.b)(function(e,t){return{show:e.fetch.toJS().show}})(K),P=a(554),U=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,{negative:!0},r.a.createElement(P.a.Header,null,"We're sorry we can't display this route"),r.a.createElement("p",null,"Verify, Is URL correct?"))}}]),t}(r.a.Component),W=a(549),X=a(552),Q=a(550),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).form_type="edit",a.formSubmit=a.formSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{size:"huge"},"Song edit"),r.a.createElement(W.a,{loading:this.props.charging,onSubmit:this.props.handleSubmit(this.formSubmit)},r.a.createElement(X.a,{name:"name",component:t.renderName}),r.a.createElement(X.a,{name:"artist",component:t.renderArtist}),r.a.createElement(X.a,{name:"year",component:t.renderYear}),r.a.createElement(y.a,{type:"submit",disabled:this.props.invalid||this.props.submitting},"Submit")))}},{key:"formSubmit",value:function(e){var t=this;this.props.dispatch(x()),v.database().ref("songs/"+e.id).update({name:e.name,artist:e.artist,year:e.year}).then(function(a){var n;t.props.dispatch((n={id:e.id,name:e.name,artist:e.artist,year:e.year},{type:w,song:n})),t.props.dispatch(Y()),t.props.history.goBack()})}}],[{key:"renderName",value:function(e){return r.a.createElement(W.a.Field,{error:!!e.meta.touched&&!!e.meta.error},r.a.createElement("label",null,"Name"),r.a.createElement("input",Object.assign({},e.input,{placeholder:"Name",id:"name",type:"text"})),e.meta.touched&&(e.meta.error?r.a.createElement(P.a,{negative:!0},e.meta.error):null))}},{key:"renderArtist",value:function(e){return r.a.createElement(W.a.Field,{error:!!e.meta.touched&&!!e.meta.error},r.a.createElement("label",null,"Artist"),r.a.createElement("input",Object.assign({},e.input,{placeholder:"Artist",id:"artist",type:"text"})),e.meta.touched&&(e.meta.error?r.a.createElement(P.a,{negative:!0},e.meta.error):null))}},{key:"renderYear",value:function(e){return r.a.createElement(W.a.Field,{error:!!e.meta.touched&&!!e.meta.error},r.a.createElement("label",null,"Year"),r.a.createElement("input",Object.assign({},e.input,{placeholder:"Year",id:"year",type:"number"})),e.meta.touched&&(e.meta.error?r.a.createElement(P.a,{negative:!0},e.meta.error):null))}}]),t}(r.a.Component);Z=Object(Q.a)({form:"edit_song",validate:function(e){var t={};return e.name?e.artist?e.year||(t.year="Year is required"):t.artist="Artist is required":t.name="Name is required",t}})(Z);var $=Object(O.b)(function(e,t){for(var a=t.match.params.id,n={id:0,name:"",artist:"",year:0},r=e.songs.toJS(),i=!1,c=0;c<r.length;c++){var o=r[c];o.id===a&&(n=o,i=!0)}return i||t.history.push("/not_found"),{initialValues:n,charging:e.async.toJS().charging}})(Z),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).form_type="add",a.formSubmit=a.formSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{size:"huge"},"Song add"),r.a.createElement(W.a,{loading:this.props.charging,onSubmit:this.props.handleSubmit(this.formSubmit)},r.a.createElement(X.a,{name:"name",component:t.renderName}),r.a.createElement(X.a,{name:"artist",component:t.renderArtist}),r.a.createElement(X.a,{name:"year",component:t.renderYear}),r.a.createElement(y.a,{type:"submit",disabled:this.props.invalid||this.props.submitting},"Submit")))}},{key:"formSubmit",value:function(e){var t=this;this.props.dispatch(x()),v.database().ref("songs/").push({name:e.name,artist:e.artist,year:e.year}).then(function(a){t.props.dispatch(H({id:a.key,name:e.name,artist:e.artist,year:e.year})),t.props.dispatch(Y()),t.props.history.goBack()})}}],[{key:"renderName",value:function(e){return r.a.createElement(W.a.Field,{error:!!e.meta.touched&&!!e.meta.error},r.a.createElement("label",null,"Name"),r.a.createElement("input",Object.assign({},e.input,{placeholder:"Name",id:"name",type:"text"})),e.meta.touched&&(e.meta.error?r.a.createElement(P.a,{negative:!0},e.meta.error):null))}},{key:"renderArtist",value:function(e){return r.a.createElement(W.a.Field,{error:!!e.meta.touched&&!!e.meta.error},r.a.createElement("label",null,"Artist"),r.a.createElement("input",Object.assign({},e.input,{placeholder:"Artist",id:"artist",type:"text"})),e.meta.touched&&(e.meta.error?r.a.createElement(P.a,{negative:!0},e.meta.error):null))}},{key:"renderYear",value:function(e){return r.a.createElement(W.a.Field,{error:!!e.meta.touched&&!!e.meta.error},r.a.createElement("label",null,"Year"),r.a.createElement("input",Object.assign({},e.input,{placeholder:"Year",id:"year",type:"number"})),e.meta.touched&&(e.meta.error?r.a.createElement(P.a,{negative:!0},e.meta.error):null))}}]),t}(r.a.Component);ee=Object(Q.a)({form:"song_add",validate:function(e){var t={};return e.name?e.artist?e.year||(t.year="Year is required"):t.artist="Artist is required":t.name="Name is required",t}})(ee);var te=Object(O.b)(function(e,t){return{initialValues:{id:0,name:"",artist:"",year:0},charging:e.async.toJS().charging}})(ee),ae=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(E.a,null,r.a.createElement(p.a,{to:"/"},r.a.createElement(E.a.Item,null,"Songs")),r.a.createElement(p.a,{to:"/song"},r.a.createElement(E.a.Item,null,"Add Song"))),r.a.createElement(h.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:M}),r.a.createElement(b.a,{exact:!0,path:"/song",component:te}),r.a.createElement(b.a,{path:"/song/:id",component:$}),r.a.createElement(b.a,{exact:!0,path:"/not_found",component:U}),r.a.createElement(b.a,{component:U}))))}}]),t}(n.Component),ne=a(20),re=(a(537),a(538),a(35));var ie=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(re.a)(),a=arguments.length>1?arguments[1]:void 0,n=t.toJS(),r=Object(re.a)();switch(a.type){case k:var i={id:a.song.id,name:a.song.name,artist:a.song.artist,year:a.song.year};return t.push(i);case w:for(e=0;e<n.length;e++)if(n[e].id===a.song.id){var c={id:a.song.id,name:a.song.name,artist:a.song.artist,year:a.song.year};r=r.push(c)}else r=r.push(n[e]);return r;case D:for(e=0;e<n.length;e++)n[e].id!==a.song.id&&(r=r.push(n[e]));return r;default:return t}};var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(re.b)({show:!1}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(re.b)({show:!0,id:t.modal.id,name:t.modal.name});case A:return Object(re.b)({show:!1});default:return e}};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(re.b)({charging:!1});switch((arguments.length>1?arguments[1]:void 0).type){case j:return Object(re.b)({charging:!0});case S:return Object(re.b)({charging:!1});default:return e}};var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(re.b)({show:!1});switch((arguments.length>1?arguments[1]:void 0).type){case N:return Object(re.b)({show:!0});case _:return Object(re.b)({show:!1});default:return e}},se=a(558),me=Object(ne.c)({songs:ie,modal:ce,async:oe,fetch:le,form:se.a}),ue=a(304);v.initializeApp({apiKey:"AIzaSyD21SBEItTg2KHXPyBgY3iExl2qBnw4smo",authDomain:"canciones-react-redux.firebaseapp.com",databaseURL:"https://canciones-react-redux.firebaseio.com",projectId:"canciones-react-redux",storageBucket:"canciones-react-redux.appspot.com",messagingSenderId:"973929143346"});var de=Object(ne.d)(me,Object(ne.a)(ue.a));de.dispatch(function(e){return e({type:N}),v.database().ref("songs/").once("value",function(t){var a=t.val();for(var n in a){var r=a[n];e(H({id:n,name:r.name,artist:r.artist,year:r.year}))}e({type:_})})}),c.a.render(r.a.createElement(O.a,{store:de},r.a.createElement("div",{className:"center"},r.a.createElement(ae,null))),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.78e08de5.chunk.js.map